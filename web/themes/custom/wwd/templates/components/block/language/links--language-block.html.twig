{#
/**
 * @file
 * WWD theme implementation for a set of links.
 */
#}

{{ attach_library('edwt/c--dropdowns') }}

{% if links -%}
  <div class="dropdown">
    <button
      class="btn btn-round d-flex align-items-center justify-content-center"
      type="button"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      {%- for item in links -%}
        {%- if 'is-active' in item.text_attributes.class -%}
          {{- item.attributes.hreflang -}}
        {%- endif -%}
      {%- endfor -%}
    </button>

    <ul{{ attributes.addClass('dropdown-menu', 'dropdown-menu-end') }}>
      {%- for item in links -%}
        <li{{ item.attributes }}>
          {%- if item.link -%}
            {% set link =  item.link|merge({ '#options': { 'attributes': { 'class': [ 'dropdown-item' ] }}}) %}
            {{ link }}
          {%- elseif item.text_attributes -%}
            <span{{ item.text_attributes }}>{{ item.text }}</span>
          {%- else -%}
            {{ item.text }}
          {%- endif -%}
        </li>
      {%- endfor -%}
    </ul>
  </div>
{%- endif %}
